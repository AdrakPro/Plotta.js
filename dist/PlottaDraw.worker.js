!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="../dist/",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n={DrawTitle:function(e,t,o){var n=o.text,r=o.color,a=o.position;e.save(),e.font="20px ".concat(t),e.textAlign="center",e.textBaseline="middle",r&&(e.fillStyle=r),e.fillText(n,a.x,a.y),e.restore()},DrawLegends:function(e,t,o,n){e.save(),e.font="14px ".concat(t),e.textAlign="left",e.textBaseline="top";n.forEach(function(t){var n=t.color,r=t.legend,a=t.point;e.save(),e.fillText(r,o.x+a.x+15+5,o.y+a.y),n&&(e.fillStyle=n),e.fillRect(o.x+a.x,o.y+a.y,15,15),e.restore()}),e.restore()},DrawAxis:function(e,t,o){var n=o.xLabel,r=o.yLabel;e.save(),e.font="14px ".concat(t),e.textAlign="center",e.textBaseline="middle",n.visible&&(n.color&&(e.fillStyle=n.color),e.fillText(n.text,n.position.x,n.position.y)),r.visible&&(e.translate(r.position.x,r.position.y),e.rotate(-.5*Math.PI),r.color&&(e.fillStyle=r.color),e.fillText(r.text,0,0)),e.restore()},DrawBorder:function(e,t,o){var n=o.visible,r=(o.type,o.color),a=o.width;n&&(e.save(),r&&(e.strokeStyle=r),a&&(e.lineWidth=a),e.strokeRect(t.x,t.y,t.w,t.h),e.restore())},DrawGrid:function(e,t,o,n,r){var a=r.xTics,i=r.yTics,l=n.visible,s=(n.type,n.color);l&&(e.save(),e.strokeStyle=s,e.lineWidth=.3,a.forEach(function(t,n,r){0!==n&&n!==r.length-1&&(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x,t.y-o),e.stroke())}),i.forEach(function(o,n,r){0!==n&&n!==r.length-1&&(e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(o.x+t,o.y),e.stroke())}),e.restore())},DrawTics:function(e,t,o,n){var r=n.visible,a=n.color,i=n.xTics,l=n.yTics;if(r){e.save(),a&&(e.strokeStyle=a,e.fillStyle=a),e.lineWidth=.3,e.textAlign="center",e.textBaseline="middle",i.forEach(function(t,n,r){var a,i=t.y+10;a=0===n?t.y-o:t.y,e.beginPath(),e.moveTo(t.x,i),e.lineTo(t.x,a),e.stroke(),e.fillText(t.value,t.x,t.y+10+15)}),l.forEach(function(o,n,r){var a,i=o.x-10;a=0===n?o.x+t:o.x,e.beginPath(),e.moveTo(i,o.y),e.lineTo(a,o.y),e.stroke(),e.fillText(o.value,o.x-10-15,o.y)}),e.restore()}},DrawLines:function(e,t,o){e.save(),e.lineWidth=3;var n=new Path2D;n.rect(t.x,t.y,t.w,t.h),e.clip(n,"evenodd"),o.forEach(function(o){var n=o.points,r=o.color;e.strokeStyle=r;var a=!0,i=n[0].y;n.forEach(function(o,n){o.y<t.y?i=t.y-5:o.y>t.y+t.h&&(i=t.y+t.h+5),!0===a?(e.beginPath(),e.moveTo(o.x,i||o.y),a=!1):e.lineTo(o.x,i||o.y),i=NaN}),e.stroke()}),e.restore()},DrawTable:function(e,t,o,n){var r=n.visible,a=n.selectedTic,i=n.colors,l=n.legends,s=n.legendWidth,c=n.datas;if(r&&!isNaN(a)&&i&&l&&s&&c){e.save(),e.font="14px ".concat(t),e.textAlign="left",e.textBaseline="top";var f=c[a];if(f&&f.canvasPos){var x=[];x[0]=f.canvasPos.y-23;for(var v=1;v<=f.length+1;v++)x[v]=x[v-1]+23;var y=[];y[0]=f.canvasPos.x+20,y[1]=y[0]+16+15+s,y[2]=y[1]+8+f.width;var u=(o.x+o.w)/2,d=y[2]-y[0];f.canvasPos.x>u?{x:(y=y.map(function(e){return e-d-40}))[2],y:x[0]}:{x:y[0],y:x[0]},e.save(),e.globalAlpha=.5,e.fillStyle="white",e.fillRect(y[0],x[0],y[2]-y[0],x[f.length+1]-x[0]),e.strokeStyle="#999999",e.strokeRect(y[0],x[0],y[2]-y[0],x[f.length+1]-x[0]);for(var h=1;h<=f.length;h++)e.beginPath(),e.moveTo(y[0],x[h]),e.lineTo(y[2],x[h]),e.stroke();e.beginPath(),e.moveTo(y[1],x[1]),e.lineTo(y[1],x[f.length+1]),e.stroke(),e.restore(),e.fillText("".concat(a),y[0]+4,x[0]+4);for(var g=0;g<f.length;g++)e.save(),e.fillText("".concat(l[g]),y[0]+15+12,x[g+1]+4),e.fillText("".concat(f[g].dataPos.toFixed(3)),y[1]+4,x[g+1]+4),e.fillStyle=i[g],e.fillRect(y[0]+4,x[g+1]+4,15,15),f[g].canvasPos>=o.y&&f[g].canvasPos<=o.y+o.h&&(e.beginPath(),e.arc(f.canvasPos.x,f[g].canvasPos,4,0,2*Math.PI),e.fill()),e.restore();e.restore()}}},Draw:function(e,t){var o=t.font,r=t.title,a=(t.legend,t.border),i=t.axis,l=t.grid,s=t.tics,c=t.lineDatas,f=t.legendDatas,x=t.tableData,v=t.canvasWidth,y=t.canvasHeight,u=t.graphRect,d=t.legendRect;e.font="12px ".concat(o),e.clearRect(0,0,v,y),n.DrawTitle(e,o,r),n.DrawBorder(e,u,a),n.DrawTics(e,u.w,u.h,s),n.DrawGrid(e,u.w,u.h,l,s),n.DrawAxis(e,o,i),n.DrawLines(e,u,c),n.DrawLegends(e,o,d,f),n.DrawTable(e,o,u,x)}},r=n;self.onmessage=(e=>{const{canvas:t,dpr:o,drawData:n}=e.data;t&&(self.canvas=t,self.ctx=t.getContext("2d")),o&&self.ctx.scale(o,o),n&&r.Draw(self.ctx,n)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvZHJhd0hlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vc1dvcmtlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkRyYXdIZWxwZXIiLCJjdHgiLCJmb250IiwidGl0bGUiLCJ0ZXh0IiwiY29sb3IiLCJwb3NpdGlvbiIsInNhdmUiLCJjb25jYXQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsVGV4dCIsIngiLCJ5IiwicmVzdG9yZSIsImxlZ2VuZFJlY3QiLCJsZWdlbmREYXRhcyIsImZvckVhY2giLCJsZWdlbmREYXRhIiwibGVnZW5kIiwicG9pbnQiLCJmaWxsUmVjdCIsImF4aXMiLCJ4TGFiZWwiLCJ5TGFiZWwiLCJ2aXNpYmxlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiTWF0aCIsIlBJIiwicmVjdCIsImJvcmRlciIsInR5cGUiLCJ3aWR0aCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsInciLCJoIiwiaGVpZ2h0IiwiZ3JpZCIsInRpY3MiLCJ4VGljcyIsInlUaWNzIiwidGljIiwiaW5kZXgiLCJhcnJheSIsImxlbmd0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInlFbmQiLCJ5U3RhcnQiLCJ4RW5kIiwieFN0YXJ0IiwiZ3JhcGhSZWN0IiwibGluZURhdGFzIiwicmVnaW9uIiwiUGF0aDJEIiwiY2xpcCIsImxpbmVEYXRhIiwicG9pbnRzIiwiaXNTdGFydCIsInlDcml0aWNhbFBvaW50IiwiTmFOIiwidGFibGVEYXRhIiwic2VsZWN0ZWRUaWMiLCJjb2xvcnMiLCJsZWdlbmRzIiwibGVnZW5kV2lkdGgiLCJkYXRhcyIsImlzTmFOIiwic2VsZWN0ZWRUaWNEYXRhIiwiY2FudmFzUG9zIiwidGFibGVSb3dQb3MiLCJ0YWJsZUNvbHVtblBvcyIsIm1hcmdpbiIsImNlbnRlclBvc1giLCJ0YWJsZVdpZHRoIiwibWFwIiwicG9zIiwiZ2xvYmFsQWxwaGEiLCJkYXRhUG9zIiwidG9GaXhlZCIsImFyYyIsImZpbGwiLCJkcmF3RGF0YSIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiY2xlYXJSZWN0IiwiRHJhd1RpdGxlIiwiRHJhd0JvcmRlciIsIkRyYXdUaWNzIiwiRHJhd0dyaWQiLCJEcmF3QXhpcyIsIkRyYXdMaW5lcyIsIkRyYXdMZWdlbmRzIiwiRHJhd1RhYmxlIiwic2VsZiIsIm9ubWVzc2FnZSIsImV2ZW50IiwiY2FudmFzIiwiZHByIiwiZGF0YSIsImdldENvbnRleHQiLCJzY2FsZSIsImRyYXdIZWxwZXIiLCJEcmF3Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVB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QSxNQUFBQyxPQUFTQSxFQUFBQyxNQUFBaEIsWUFBd0JjLEVBQUFHLEtBQ2pDRixJQUNBSCxLQUFBRyxTQUNBSCxLQUFBbkcsSUFBQXNHLEVBQUFHLFdBQUEsT0FHQUYsR0FDQUosS0FBQW5HLElBQUEwRyxNQUFBSCxLQUdBaEIsR0FDSW9CLEVBQVVDLEtBQUFULEtBQUFuRyxJQUFBdUYiLCJmaWxlIjoiUGxvdHRhRHJhdy53b3JrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4uL2Rpc3QvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8qKlxuICogQG5hbWUgRHJhd0hlbHBlclxuICogQHR5cGUgT2JqZWN0XG4gKiBAbWV0aG9kIERyYXdcbiAqIEBtZXRob2QgRHJhd1RpdGxlXG4gKiBAbWV0aG9kIERyYXdMZWdlbmRzXG4gKiBAbWV0aG9kIERyYXdBeGlzXG4gKiBAbWV0aG9kIERyYXdCb3JkZXJcbiAqIEBtZXRob2QgRHJhd0dyaWRcbiAqIEBtZXRob2QgRHJhd1RpY3NcbiAqIEBtZXRob2QgRHJhd0xpbmVzXG4gKiBAbWV0aG9kIERyYXdUYWJsZVxuICovXG5cbmNvbnN0IERyYXdIZWxwZXIgPSB7fTtcblxuLyoqXG4gKiBAbmFtZSBEcmF3VGl0bGVcbiAqIEB0eXBlIGZ1bmN0aW9uXG4gKiBARGVzY3JpcHRpb25cbiAqIERyYXcgVGl0bGUsXG4gKiBEZWZhdWx0IGZvbnRTaXplIDogMjBweCwgdGV4dEFsaWduIDogQ2VudGVyLCB0ZXh0QmFzZWxpbmUgOiBtaWRkbGVcbiAqL1xuRHJhd0hlbHBlci5EcmF3VGl0bGUgPSBmdW5jdGlvbiAoY3R4LCBmb250LCB0aXRsZSkge1xuICBjb25zdCB7IHRleHQsIGNvbG9yLCBwb3NpdGlvbiB9ID0gdGl0bGU7XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5mb250ID0gYDIwcHggJHtmb250fWA7XG4gIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICBpZiAoY29sb3IpIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgY3R4LmZpbGxUZXh0KHRleHQsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICBjdHgucmVzdG9yZSgpO1xufTtcblxuLyoqXG4gKiBAbmFtZSBEcmF3TGVnZW5kc1xuICogQHR5cGUgZnVuY3Rpb25cbiAqIEBEZXNjcmlwdGlvblxuICogRHJhdyBMZWdlbmRzLFxuICogRGVmYXVsdCBmb250U2l6ZSA6IDE0cHgsIHRleHRBbGlnbiA6IExlZnQsIHRleHRCYXNlbGluZSA6IHRvcCwgcmVjdFNpemUgOiAxNXB4XG4gKi9cbkRyYXdIZWxwZXIuRHJhd0xlZ2VuZHMgPSBmdW5jdGlvbiAoY3R4LCBmb250LCBsZWdlbmRSZWN0LCBsZWdlbmREYXRhcykge1xuICBjdHguc2F2ZSgpO1xuICBjdHguZm9udCA9IGAxNHB4ICR7Zm9udH1gO1xuICBjdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gIGNvbnN0IHJlY3RTaXplID0gMTU7XG4gIGNvbnN0IG1hcmdpbiA9IDU7XG4gIGxlZ2VuZERhdGFzLmZvckVhY2goKGxlZ2VuZERhdGEpID0+IHtcbiAgICBjb25zdCB7IGNvbG9yLCBsZWdlbmQsIHBvaW50IH0gPSBsZWdlbmREYXRhO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmZpbGxUZXh0KGxlZ2VuZCwgbGVnZW5kUmVjdC54ICsgcG9pbnQueCArIHJlY3RTaXplICsgbWFyZ2luLCBsZWdlbmRSZWN0LnkgKyBwb2ludC55KTtcbiAgICBpZiAoY29sb3IpIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjdHguZmlsbFJlY3QobGVnZW5kUmVjdC54ICsgcG9pbnQueCwgbGVnZW5kUmVjdC55ICsgcG9pbnQueSwgcmVjdFNpemUsIHJlY3RTaXplKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9KTtcbiAgY3R4LnJlc3RvcmUoKTtcbn07XG5cbi8qKlxuICogQG5hbWUgRHJhd0F4aXNcbiAqIEB0eXBlIGZ1bmN0aW9uXG4gKiBARGVzY3JpcHRpb25cbiAqIERyYXcgQXhpcyxcbiAqIERlZmF1bHQgZm9udFNpemUgOiAxNHB4LCB0ZXh0QWxpZ24gOiBDZW50ZXIsIHRleHRCYXNlbGluZSA6IG1pZGRsZVxuICovXG5EcmF3SGVscGVyLkRyYXdBeGlzID0gZnVuY3Rpb24gKGN0eCwgZm9udCwgYXhpcykge1xuICBjb25zdCB7IHhMYWJlbCwgeUxhYmVsIH0gPSBheGlzO1xuXG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5mb250ID0gYDE0cHggJHtmb250fWA7XG4gIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICBpZiAoeExhYmVsLnZpc2libGUpIHtcbiAgICBpZiAoeExhYmVsLmNvbG9yKSBjdHguZmlsbFN0eWxlID0geExhYmVsLmNvbG9yO1xuICAgIGN0eC5maWxsVGV4dCh4TGFiZWwudGV4dCwgeExhYmVsLnBvc2l0aW9uLngsIHhMYWJlbC5wb3NpdGlvbi55KTtcbiAgfVxuXG4gIGlmICh5TGFiZWwudmlzaWJsZSkge1xuICAgIGN0eC50cmFuc2xhdGUoeUxhYmVsLnBvc2l0aW9uLngsIHlMYWJlbC5wb3NpdGlvbi55KTtcbiAgICBjdHgucm90YXRlKC0wLjUgKiBNYXRoLlBJKTtcbiAgICBpZiAoeUxhYmVsLmNvbG9yKSBjdHguZmlsbFN0eWxlID0geUxhYmVsLmNvbG9yO1xuICAgIGN0eC5maWxsVGV4dCh5TGFiZWwudGV4dCwgMCwgMCk7XG4gIH1cbiAgY3R4LnJlc3RvcmUoKTtcbn07XG5cbi8qKlxuICogQG5hbWUgRHJhd0JvcmRlclxuICogQHR5cGUgZnVuY3Rpb25cbiAqL1xuRHJhd0hlbHBlci5EcmF3Qm9yZGVyID0gZnVuY3Rpb24gKGN0eCwgcmVjdCwgYm9yZGVyKSB7XG4gIGNvbnN0IHtcbiAgICB2aXNpYmxlLCB0eXBlLCBjb2xvciwgd2lkdGhcbiAgfSA9IGJvcmRlcjtcblxuICBpZiAoIXZpc2libGUpIHJldHVybjtcblxuICBjdHguc2F2ZSgpO1xuICBpZiAoY29sb3IpIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICBpZiAod2lkdGgpIGN0eC5saW5lV2lkdGggPSB3aWR0aDtcbiAgY3R4LnN0cm9rZVJlY3QocmVjdC54LCByZWN0LnksIHJlY3QudywgcmVjdC5oKTtcbiAgY3R4LnJlc3RvcmUoKTtcbn07XG5cbi8qKlxuICogQG5hbWUgRHJhd0dyaWRcbiAqIEB0eXBlIGZ1bmN0aW9uXG4gKiBARGVzY3JpcHRpb25cbiAqIERyYXcgR3JpZCxcbiAqIERlZmF1bHQgbGluZVdpZHRoIDogMC4zcHhcbiAqL1xuRHJhd0hlbHBlci5EcmF3R3JpZCA9IGZ1bmN0aW9uIChjdHgsIHdpZHRoLCBoZWlnaHQsIGdyaWQsIHRpY3MpIHtcbiAgY29uc3QgeyB4VGljcywgeVRpY3MgfSA9IHRpY3M7XG4gIGNvbnN0IHsgdmlzaWJsZSwgdHlwZSwgY29sb3IgfSA9IGdyaWQ7XG4gIGlmICghdmlzaWJsZSkgcmV0dXJuO1xuXG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICBjdHgubGluZVdpZHRoID0gMC4zO1xuXG4gIHhUaWNzLmZvckVhY2goKHRpYywgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgaWYgKGluZGV4ID09PSAwIHx8IGluZGV4ID09PSBhcnJheS5sZW5ndGggLSAxKSByZXR1cm47XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8odGljLngsIHRpYy55KTtcbiAgICBjdHgubGluZVRvKHRpYy54LCB0aWMueSAtIGhlaWdodCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICB9KTtcbiAgeVRpY3MuZm9yRWFjaCgodGljLCBpbmRleCwgYXJyYXkpID0+IHtcbiAgICBpZiAoaW5kZXggPT09IDAgfHwgaW5kZXggPT09IGFycmF5Lmxlbmd0aCAtIDEpIHJldHVybjtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyh0aWMueCwgdGljLnkpO1xuICAgIGN0eC5saW5lVG8odGljLnggKyB3aWR0aCwgdGljLnkpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfSk7XG4gIGN0eC5yZXN0b3JlKCk7XG59O1xuXG4vKipcbiAqIEBuYW1lIERyYXdUaWNzXG4gKiBAdHlwZSBmdW5jdGlvblxuICogQERlc2NyaXB0aW9uXG4gKiBEcmF3IFRpY3MsXG4gKiBEZWZhdWx0IGxpbmVXaWR0aCA6IDAuM3B4LCB0ZXh0QWxpZ24gOiBjZW50ZXIsIHRleHRCYXNlbGluZSA6IG1pZGRsZSwgdGljU2l6ZSA6IDEwcHhcbiAqL1xuRHJhd0hlbHBlci5EcmF3VGljcyA9IGZ1bmN0aW9uIChjdHgsIHdpZHRoLCBoZWlnaHQsIHRpY3MpIHtcbiAgY29uc3Qge1xuICAgIHZpc2libGUsIGNvbG9yLCB4VGljcywgeVRpY3NcbiAgfSA9IHRpY3M7XG5cbiAgaWYgKCF2aXNpYmxlKSByZXR1cm47XG5cbiAgY29uc3QgdGljU2l6ZSA9IDEwO1xuICBjb25zdCB0aWNWYWx1ZU1hcmdpbiA9IDE1O1xuXG4gIGN0eC5zYXZlKCk7XG4gIGlmIChjb2xvcikge1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgfVxuICBjdHgubGluZVdpZHRoID0gMC4zO1xuICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcblxuICB4VGljcy5mb3JFYWNoKCh0aWMsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgIGNvbnN0IHlTdGFydCA9IHRpYy55ICsgdGljU2l6ZTtcbiAgICBsZXQgeUVuZDtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIHlFbmQgPSB0aWMueSAtIGhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgeUVuZCA9IHRpYy55O1xuICAgIH1cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyh0aWMueCwgeVN0YXJ0KTtcbiAgICBjdHgubGluZVRvKHRpYy54LCB5RW5kKTtcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4LmZpbGxUZXh0KHRpYy52YWx1ZSwgdGljLngsIHRpYy55ICsgdGljU2l6ZSArIHRpY1ZhbHVlTWFyZ2luKTtcbiAgfSk7XG4gIHlUaWNzLmZvckVhY2goKHRpYywgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgY29uc3QgeFN0YXJ0ID0gdGljLnggLSB0aWNTaXplO1xuICAgIGxldCB4RW5kO1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgeEVuZCA9IHRpYy54ICsgd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhFbmQgPSB0aWMueDtcbiAgICB9XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oeFN0YXJ0LCB0aWMueSk7XG4gICAgY3R4LmxpbmVUbyh4RW5kLCB0aWMueSk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5maWxsVGV4dCh0aWMudmFsdWUsIHRpYy54IC0gdGljU2l6ZSAtIHRpY1ZhbHVlTWFyZ2luLCB0aWMueSk7XG4gIH0pO1xuICBjdHgucmVzdG9yZSgpO1xufTtcblxuLyoqXG4gKiBAbmFtZSBEcmF3TGluZXNcbiAqIEB0eXBlIGZ1bmN0aW9uXG4gKiBARGVzY3JpcHRpb25cbiAqIERyYXcgVGljcyxcbiAqIERlZmF1bHQgbGluZVdpZHRoIDogM3B4XG4gKiBAVG9kbyBBZGQgTGluZVN0eWxlXG4gKi9cbkRyYXdIZWxwZXIuRHJhd0xpbmVzID0gZnVuY3Rpb24gKGN0eCwgZ3JhcGhSZWN0LCBsaW5lRGF0YXMpIHtcbiAgY3R4LnNhdmUoKTtcbiAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gIGNvbnN0IHJlZ2lvbiA9IG5ldyBQYXRoMkQoKTtcbiAgcmVnaW9uLnJlY3QoZ3JhcGhSZWN0LngsIGdyYXBoUmVjdC55LCBncmFwaFJlY3QudywgZ3JhcGhSZWN0LmgpO1xuICBjdHguY2xpcChyZWdpb24sICdldmVub2RkJyk7XG4gIGxpbmVEYXRhcy5mb3JFYWNoKChsaW5lRGF0YSkgPT4ge1xuICAgIGNvbnN0IHsgcG9pbnRzLCBjb2xvciB9ID0gbGluZURhdGE7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgbGV0IGlzU3RhcnQgPSB0cnVlO1xuICAgIGxldCB5Q3JpdGljYWxQb2ludCA9IHBvaW50c1swXS55O1xuICAgIHBvaW50cy5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChwb2ludC55IDwgZ3JhcGhSZWN0LnkpIHtcbiAgICAgICAgeUNyaXRpY2FsUG9pbnQgPSBncmFwaFJlY3QueSAtIDU7XG4gICAgICB9IGVsc2UgaWYgKHBvaW50LnkgPiBncmFwaFJlY3QueSArIGdyYXBoUmVjdC5oKSB7XG4gICAgICAgIHlDcml0aWNhbFBvaW50ID0gZ3JhcGhSZWN0LnkgKyBncmFwaFJlY3QuaCArIDU7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0YXJ0ID09PSB0cnVlKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyhwb2ludC54LCB5Q3JpdGljYWxQb2ludCB8fCBwb2ludC55KTtcbiAgICAgICAgaXNTdGFydCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmxpbmVUbyhwb2ludC54LCB5Q3JpdGljYWxQb2ludCB8fCBwb2ludC55KTtcbiAgICAgIH1cbiAgICAgIHlDcml0aWNhbFBvaW50ID0gTmFOO1xuICAgIH0pO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfSk7XG4gIGN0eC5yZXN0b3JlKCk7XG59O1xuXG4vKipcbiAqIEBuYW1lIERyYXdUYWJsZVxuICogQHR5cGUgZnVuY3Rpb25cbiAqIEBEZXNjcmlwdGlvblxuICogRHJhdyBUaWNzLFxuICogRGVmYXVsdCBmb250U2l6ZSA6IDE0cHgsIHRleHRBbGlnbiA6IGxlZnQsIHRleHRCYXNlbGluZSA6IHRvcCxcbiAqIERlZmF1bHQgZmlsbEFscGhhIDogMC41LCBmaWxsQ29sb3IgOiB3aGl0ZSwgTGluZUNvbG9yIDogIzk5OTk5OVxuICovXG5EcmF3SGVscGVyLkRyYXdUYWJsZSA9IGZ1bmN0aW9uIChjdHgsIGZvbnQsIGdyYXBoUmVjdCwgdGFibGVEYXRhKSB7XG4gIGNvbnN0IHtcbiAgICB2aXNpYmxlLCBzZWxlY3RlZFRpYywgY29sb3JzLCBsZWdlbmRzLCBsZWdlbmRXaWR0aCwgZGF0YXNcbiAgfSA9IHRhYmxlRGF0YTtcblxuICBpZiAoIXZpc2libGUgfHwgaXNOYU4oc2VsZWN0ZWRUaWMpIHx8ICFjb2xvcnMgfHwgIWxlZ2VuZHMgfHwgIWxlZ2VuZFdpZHRoIHx8ICFkYXRhcykgcmV0dXJuO1xuXG4gIGNvbnN0IHJlY3RTaXplID0gMTU7XG4gIGNvbnN0IG1hcmdpbiA9IDQ7XG5cbiAgY3R4LnNhdmUoKTtcbiAgY3R4LmZvbnQgPSBgMTRweCAke2ZvbnR9YDtcbiAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuXG4gIGNvbnN0IHNlbGVjdGVkVGljRGF0YSA9IGRhdGFzW3NlbGVjdGVkVGljXTtcbiAgaWYgKCFzZWxlY3RlZFRpY0RhdGEgfHwgIXNlbGVjdGVkVGljRGF0YS5jYW52YXNQb3MpIHJldHVybjtcblxuICBjb25zdCB0YWJsZVJvd1BvcyA9IFtdO1xuICB0YWJsZVJvd1Bvc1swXSA9IHNlbGVjdGVkVGljRGF0YS5jYW52YXNQb3MueSAtIChyZWN0U2l6ZSArIG1hcmdpbiAqIDIpO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBzZWxlY3RlZFRpY0RhdGEubGVuZ3RoICsgMTsgaSsrKSB7XG4gICAgdGFibGVSb3dQb3NbaV0gPSB0YWJsZVJvd1Bvc1tpIC0gMV0gKyAocmVjdFNpemUgKyBtYXJnaW4gKiAyKTtcbiAgfVxuICBsZXQgdGFibGVDb2x1bW5Qb3MgPSBbXTtcbiAgdGFibGVDb2x1bW5Qb3NbMF0gPSBzZWxlY3RlZFRpY0RhdGEuY2FudmFzUG9zLnggKyAyMDtcbiAgdGFibGVDb2x1bW5Qb3NbMV0gPSB0YWJsZUNvbHVtblBvc1swXSArIG1hcmdpbiAqIDQgKyByZWN0U2l6ZSArIGxlZ2VuZFdpZHRoO1xuICB0YWJsZUNvbHVtblBvc1syXSA9IHRhYmxlQ29sdW1uUG9zWzFdICsgbWFyZ2luICogMiArIHNlbGVjdGVkVGljRGF0YS53aWR0aDtcblxuICBjb25zdCBjZW50ZXJQb3NYID0gKGdyYXBoUmVjdC54ICsgZ3JhcGhSZWN0LncpIC8gMjtcbiAgY29uc3QgdGFibGVXaWR0aCA9IHRhYmxlQ29sdW1uUG9zWzJdIC0gdGFibGVDb2x1bW5Qb3NbMF07XG4gIGxldCB0YWJsZVBvaW50ID0gbnVsbDtcbiAgaWYgKHNlbGVjdGVkVGljRGF0YS5jYW52YXNQb3MueCA+IGNlbnRlclBvc1gpIHtcbiAgICB0YWJsZUNvbHVtblBvcyA9IHRhYmxlQ29sdW1uUG9zLm1hcChwb3MgPT4gcG9zIC0gdGFibGVXaWR0aCAtIDQwKTtcbiAgICB0YWJsZVBvaW50ID0geyB4OiB0YWJsZUNvbHVtblBvc1syXSwgeTogdGFibGVSb3dQb3NbMF0gfTtcbiAgfSBlbHNlIHtcbiAgICB0YWJsZVBvaW50ID0geyB4OiB0YWJsZUNvbHVtblBvc1swXSwgeTogdGFibGVSb3dQb3NbMF0gfTtcbiAgfVxuXG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5nbG9iYWxBbHBoYSA9IDAuNTtcbiAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gIGN0eC5maWxsUmVjdChcbiAgICB0YWJsZUNvbHVtblBvc1swXSxcbiAgICB0YWJsZVJvd1Bvc1swXSxcbiAgICB0YWJsZUNvbHVtblBvc1syXSAtIHRhYmxlQ29sdW1uUG9zWzBdLFxuICAgIHRhYmxlUm93UG9zW3NlbGVjdGVkVGljRGF0YS5sZW5ndGggKyAxXSAtIHRhYmxlUm93UG9zWzBdXG4gICk7XG4gIGN0eC5zdHJva2VTdHlsZSA9ICcjOTk5OTk5JztcbiAgY3R4LnN0cm9rZVJlY3QoXG4gICAgdGFibGVDb2x1bW5Qb3NbMF0sXG4gICAgdGFibGVSb3dQb3NbMF0sXG4gICAgdGFibGVDb2x1bW5Qb3NbMl0gLSB0YWJsZUNvbHVtblBvc1swXSxcbiAgICB0YWJsZVJvd1Bvc1tzZWxlY3RlZFRpY0RhdGEubGVuZ3RoICsgMV0gLSB0YWJsZVJvd1Bvc1swXVxuICApO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBzZWxlY3RlZFRpY0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyh0YWJsZUNvbHVtblBvc1swXSwgdGFibGVSb3dQb3NbaV0pO1xuICAgIGN0eC5saW5lVG8odGFibGVDb2x1bW5Qb3NbMl0sIHRhYmxlUm93UG9zW2ldKTtcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKHRhYmxlQ29sdW1uUG9zWzFdLCB0YWJsZVJvd1Bvc1sxXSk7XG4gIGN0eC5saW5lVG8odGFibGVDb2x1bW5Qb3NbMV0sIHRhYmxlUm93UG9zW3NlbGVjdGVkVGljRGF0YS5sZW5ndGggKyAxXSk7XG4gIGN0eC5zdHJva2UoKTtcbiAgY3R4LnJlc3RvcmUoKTtcblxuICBjdHguZmlsbFRleHQoYCR7c2VsZWN0ZWRUaWN9YCwgdGFibGVDb2x1bW5Qb3NbMF0gKyBtYXJnaW4sIHRhYmxlUm93UG9zWzBdICsgbWFyZ2luKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZFRpY0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5maWxsVGV4dChcbiAgICAgIGAke2xlZ2VuZHNbaV19YCxcbiAgICAgIHRhYmxlQ29sdW1uUG9zWzBdICsgcmVjdFNpemUgKyBtYXJnaW4gKiAzLFxuICAgICAgdGFibGVSb3dQb3NbaSArIDFdICsgbWFyZ2luXG4gICAgKTtcbiAgICBjdHguZmlsbFRleHQoXG4gICAgICBgJHtzZWxlY3RlZFRpY0RhdGFbaV0uZGF0YVBvcy50b0ZpeGVkKDMpfWAsXG4gICAgICB0YWJsZUNvbHVtblBvc1sxXSArIG1hcmdpbixcbiAgICAgIHRhYmxlUm93UG9zW2kgKyAxXSArIG1hcmdpblxuICAgICk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1tpXTtcbiAgICBjdHguZmlsbFJlY3QodGFibGVDb2x1bW5Qb3NbMF0gKyBtYXJnaW4sIHRhYmxlUm93UG9zW2kgKyAxXSArIG1hcmdpbiwgcmVjdFNpemUsIHJlY3RTaXplKTtcblxuICAgIGlmIChcbiAgICAgIHNlbGVjdGVkVGljRGF0YVtpXS5jYW52YXNQb3MgPj0gZ3JhcGhSZWN0LnlcbiAgICAgICYmIHNlbGVjdGVkVGljRGF0YVtpXS5jYW52YXNQb3MgPD0gZ3JhcGhSZWN0LnkgKyBncmFwaFJlY3QuaFxuICAgICkge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhzZWxlY3RlZFRpY0RhdGEuY2FudmFzUG9zLngsIHNlbGVjdGVkVGljRGF0YVtpXS5jYW52YXNQb3MsIDQsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbiAgY3R4LnJlc3RvcmUoKTtcbn07XG5cbi8qKlxuICogQG5hbWUgRHJhd1xuICogQHR5cGUgZnVuY3Rpb25cbiAqIEBEZXNjcmlwdGlvblxuICogRGVmYXVsdCBmb250U2l6ZSA6IDEycHhcbiAqL1xuRHJhd0hlbHBlci5EcmF3ID0gZnVuY3Rpb24gKGN0eCwgZHJhd0RhdGEpIHtcbiAgY29uc3Qge1xuICAgIGZvbnQsXG4gICAgdGl0bGUsXG4gICAgbGVnZW5kLFxuICAgIGJvcmRlcixcbiAgICBheGlzLFxuICAgIGdyaWQsXG4gICAgdGljcyxcbiAgICBsaW5lRGF0YXMsXG4gICAgbGVnZW5kRGF0YXMsXG4gICAgdGFibGVEYXRhLFxuICAgIGNhbnZhc1dpZHRoLFxuICAgIGNhbnZhc0hlaWdodCxcbiAgICBncmFwaFJlY3QsXG4gICAgbGVnZW5kUmVjdFxuICB9ID0gZHJhd0RhdGE7XG4gIGN0eC5mb250ID0gYDEycHggJHtmb250fWA7XG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG4gIERyYXdIZWxwZXIuRHJhd1RpdGxlKGN0eCwgZm9udCwgdGl0bGUpO1xuICBEcmF3SGVscGVyLkRyYXdCb3JkZXIoY3R4LCBncmFwaFJlY3QsIGJvcmRlcik7XG4gIERyYXdIZWxwZXIuRHJhd1RpY3MoY3R4LCBncmFwaFJlY3QudywgZ3JhcGhSZWN0LmgsIHRpY3MpO1xuICBEcmF3SGVscGVyLkRyYXdHcmlkKGN0eCwgZ3JhcGhSZWN0LncsIGdyYXBoUmVjdC5oLCBncmlkLCB0aWNzKTtcbiAgRHJhd0hlbHBlci5EcmF3QXhpcyhjdHgsIGZvbnQsIGF4aXMpO1xuICBEcmF3SGVscGVyLkRyYXdMaW5lcyhjdHgsIGdyYXBoUmVjdCwgbGluZURhdGFzKTtcbiAgRHJhd0hlbHBlci5EcmF3TGVnZW5kcyhjdHgsIGZvbnQsIGxlZ2VuZFJlY3QsIGxlZ2VuZERhdGFzKTtcbiAgRHJhd0hlbHBlci5EcmF3VGFibGUoY3R4LCBmb250LCBncmFwaFJlY3QsIHRhYmxlRGF0YSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEcmF3SGVscGVyO1xuIiwiaW1wb3J0IERyYXdIZWxwZXIgZnJvbSAnLi9kcmF3SGVscGVyJztcblxuc2VsZi5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgY29uc3QgeyBjYW52YXMsIGRwciwgZHJhd0RhdGEgfSA9IGV2ZW50LmRhdGE7XG4gIGlmIChjYW52YXMpIHtcbiAgICBzZWxmLmNhbnZhcyA9IGNhbnZhcztcbiAgICBzZWxmLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICB9XG5cbiAgaWYgKGRwcikge1xuICAgIHNlbGYuY3R4LnNjYWxlKGRwciwgZHByKTtcbiAgfVxuXG4gIGlmIChkcmF3RGF0YSkge1xuICAgIERyYXdIZWxwZXIuRHJhdyhzZWxmLmN0eCwgZHJhd0RhdGEpO1xuICB9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==